<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>minits — 議事録ジェネレーター</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>minits</h1>
      <p class="subtitle">会議を録音すると、自動で議事録を作成します</p>
    </header>

    <!-- Recording Area -->
    <section id="upload-section" class="card">
      <div id="recording-panel" class="recording-panel">
        <div class="recording-icon">🎙️</div>
        <p class="recording-description">
          システム音声（画面共有）とマイクを同時に録音し、議事録を自動生成します
        </p>

        <div id="recording-status" class="recording-status hidden">
          <span id="recording-indicator" class="recording-indicator"></span>
          <span id="recording-timer" class="recording-timer">00:00:00</span>
        </div>

        <div id="level-meter-container" class="level-meter-container hidden">
          <div class="level-meter-label">System</div>
          <div class="level-meter-track">
            <div id="level-meter-system" class="level-meter-bar"></div>
          </div>
          <div class="level-meter-label">Mic</div>
          <div class="level-meter-track">
            <div id="level-meter-mic" class="level-meter-bar"></div>
          </div>
        </div>

        <button id="record-btn" class="record-button">録音を開始</button>
        <button id="stop-btn" class="stop-button hidden">録音を停止して議事録を生成</button>

        <p id="recording-hint" class="recording-hint">
          「録音を開始」を押すと、画面共有の選択ダイアログが表示されます
        </p>
      </div>
    </section>

    <!-- Progress -->
    <section id="progress-section" class="card hidden">
      <div class="progress-bar-container">
        <div id="progress-bar" class="progress-bar"></div>
      </div>
      <p id="progress-text" class="progress-text">処理中...</p>
    </section>

    <!-- Result -->
    <section id="result-section" class="card hidden">
      <div class="result-header">
        <h2 id="result-title"></h2>
        <div class="result-actions">
          <button id="copy-btn" class="action-button" title="コピー">📋 コピー</button>
          <button id="reset-btn" class="action-button" title="新しい録音">🔄 新しい録音</button>
        </div>
      </div>

      <div id="result-content" class="result-content">
        <!-- Summary -->
        <div id="result-summary" class="result-block"></div>

        <!-- Agenda -->
        <div id="result-agenda" class="result-block hidden"></div>

        <!-- Decisions -->
        <div id="result-decisions" class="result-block hidden"></div>

        <!-- Action Items -->
        <div id="result-actions-list" class="result-block hidden"></div>

        <!-- Discussion Points -->
        <div id="result-discussion" class="result-block hidden"></div>
      </div>

      <!-- Transcript Toggle -->
      <details class="transcript-details">
        <summary>文字起こし全文を表示</summary>
        <pre id="transcript-text" class="transcript-text"></pre>
      </details>
    </section>

    <!-- Error -->
    <section id="error-section" class="card error-card hidden">
      <p id="error-text"></p>
      <button id="error-retry" class="action-button">再試行</button>
    </section>
  </div>

  <script src="/script.js"></script>
</body>
</html>
